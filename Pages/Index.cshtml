@page
@model IndexModel
@{
	ViewData["Title"] = "Home page";
}

@using PizzaSelector.Models

<section class="container py-5">
	<div class="row justify-content-center">
		<div class="col-md-8 text-center">
			<h1 class="mb-4">Choose Your Favourite Pizza</h1>

			<form method="post" class="d-flex flex-column align-items-center gap-3">
				<div class="w-100" style="max-width: 300px;">
					<select asp-for="SelectedPizzaType" asp-items="Html.GetEnumSelectList<PizzaType>()" class="form-select form-select-lg"></select>
				</div>

				<button type="submit" class="btn btn-primary btn-lg mt-2">
					Select Pizza
				</button>
			</form>

			@if (Model.FirstLoad && Model.SelectedPizza != null)
			{
				<div class="card shadow-lg mt-5 pt-3">
					<div class="card-body">
						<img src="@Model.SelectedPizza.ImagePath" alt="Pizza Image" class="img-fluid rounded mb-4" style="max-width: 300px;" />

						<h2 class="card-title">@Model.SelectedPizza.Name</h2>
						<p class="card-text lead">@Model.SelectedPizza.Description</p>

						<div class="d-flex justify-content-center gap-3 my-3">
							@if (Model.SelectedPizza.IsGlutenFree)
							{
								<span class="badge bg-warning text-dark">Gluten Free</span>
							}
							@if (Model.SelectedPizza.IsVegetarian)
							{
								<span class="badge bg-success">Vegetarian</span>
							}
						</div>

						<div class="mt-4">
							<h5>Ingredients</h5>
							<ul class="list-group list-group-flush border-top border-bottom">
								@foreach (var ingredient in Model.SelectedPizza.Ingredients)
								{
									<li class="list-group-item">@ingredient</li>
								}
							</ul>
						</div>

						<div class="mt-4">
							<h5>Prices</h5>
							<ul class="list-group list-group-flush border-top border-bottom">
								@foreach (var price in Model.SelectedPizza.Prices)
								{
									<li class="list-group-item">
										<strong>@price.Size:</strong> $@price.Price
									</li>
								}
							</ul>
						</div>

						<p class="mt-4 text-muted">
							<i>Prepared by: <strong>@Model.SelectedPizza.PizzaChef</strong></i>
						</p>
					</div>
				</div>
			}
		</div>
	</div>
</section>